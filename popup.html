<script src="jquery.js"></script>
<script src="jquery.highlight-3.js"></script>

<link rel="stylesheet" type="text/css" href="sfind.css">

<script>

	function random_color() {

		var letters = '0123456789ABCDEF'.split('');
		var color = '.highlight { background-color: #';

		for (var i = 0; i < 6; i++ ) {
			color += letters[Math.round(Math.random() * 15)];
		}
		color += '}';

		return color;
	}

	function search(that) {

		var token = new String (t1.value);

		chrome.tabs.insertCSS(null,
		{code:random_color()});

		chrome.tabs.executeScript(null,
		{code:"$(document.body).highlight('"+token+"')"});

		window.close();
	}


	function hl_clear(that) {

		chrome.tabs.executeScript(null,
		{code:"$(document.body).removeHighlight()"});

		window.close();
	}

</script>

<input type="text" id="t1"/>
<input type="text" id="t2"/>
<input type="text" id="t3"/>
<input type="text" id="t4"/>
<button onclick="search(this)" id="search_btn">Search</button>
<button onclick="hl_clear(this)" id ="clear_btn">Clear</button>
